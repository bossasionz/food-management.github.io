<!DOCTYPE html>
<html>
<app-nav-bar></app-nav-bar>
<div class="container">
    <div class="row">
        <div class="col-md-12 col-md-offset-3" id="form">
            <div class="card-body">
                <h1 class="Header text-center text-white">ยอดขาย</h1>
                <p>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover">
                            <thead class="thead">
                                <tr>
                                    <th>ID ออเดอร์</th>
                                    <th>ยอดขาย</th>
                                    <th>วันที่/เดือน/ปี</th>
                                </tr>
                            </thead>
                            <tbody *ngFor="let menu of menus; let i = index" (click)="openModal(modalShowMenuList, menu)">
                                <tr>
                                    <th scope="row">{{menu.orderId + i}}</th>
                                    <td>{{menu.sumTotal}}</td>
                                    <td>{{menu.timeStamp.seconds * 1000 | date: 'full'}}</td>
                                </tr>
                            </tbody>
                            <tfoot class="tfoot">
                                <tr>
                                    <td colspan="2" class="text-right">ยอดรวม</td>
                                    <td>{{ allTotal }}</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
            </div>
        </div>
        <!--end table total-->

        <!-- <div id="collapseExample" [ngbCollapse]="isCollapsed">
                <div class="col-md-12 col-md-offset-3" id="form">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead class="thead">
                                        <tr>
                                            <th>ลำดับที่</th>
                                            <th>ชื่อเมนู</th>
                                            <th class="text-right" scope="col">จำนวน</th>
                                            <th class="text-center">พิเศษ</th>
                                            <th class="text-center">ไข่ดาว</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th scope="row"></th>
                                            <td></td>
                                            <td class="text-right"></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                     </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                 </div> -->
    </div>
</div>


<!-- modal ของออเดอร์ -->
<ng-template #modalShowMenuList let-modal>
    <div>
        <div class="col-md-12 col-md-offset-3" id="form">
            <div class="card-body">
                    <div class="orderuserID">
                            <header>
                                 <h2>ข้อมูลลูกค้า</h2>
                            </header>
                                <ul>
                                        <li><label for="name">ชื่อลูกค้า: {{menuByOrderList.name}}</label></li>
                                        <li><label for="tel">โทรศัพท์: {{menuByOrderList.tel}}</label></li>
                                        <li><label for="address">ที่อยู่: {{menuByOrderList.address}}</label></li>
                                </ul>
                        </div>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                        <thead class="thead">
                            <tr>
                                <th>ลำดับที่</th>
                                <th>ชื่อเมนู</th>
                                <th class="text-right" scope="col">จำนวน</th>
                                <th class="text-center">พิเศษ</th>
                                <th class="text-center">ไข่ดาว</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container *ngFor="let menu of menuByOrderList.foodName; let i = index">
                                <tr>
                                    <th scope="row">{{ i+1 }}</th>
                                    <td>{{ menu.foodName }}</td>
                                    <td class="text-right">{{ menu.foodNum }}</td>
                                    <td>
                                        <ng-container *ngIf="menu.optExtra">
                                            พิเศษ
                                        </ng-container>
                                        <ng-container *ngIf="!menu.optExtra">
                                            ธรรมดา
                                        </ng-container>
                                    </td>
                                    <td>
                                        <ng-container *ngIf="menu.optEgg">
                                            ใส่
                                        </ng-container>
                                        <ng-container *ngIf="!menu.optEgg">
                                            ไม่ใส่
                                        </ng-container>
                                    </td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
    </div>
</ng-template>

<div id="stars"></div>
<div id="stars2"></div>
<div id="stars3"></div>

</html>